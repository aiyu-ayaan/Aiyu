# Security-Enhanced Environment Variables Template
# Copy this file to .env and fill in the values
# NEVER commit .env file to git!

# ============================================
# Database Configuration
# ============================================
# Use strong passwords (20+ characters, mixed case, numbers, symbols)
MONGODB_URI=mongodb://admin:CHANGE_ME_TO_STRONG_PASSWORD@mongodb:27017/portfolio?authSource=admin
MONGO_ROOT_USERNAME=admin
MONGO_ROOT_PASSWORD=CHANGE_ME_TO_STRONG_PASSWORD

# ============================================
# Authentication & Security
# ============================================
# JWT Secret: Use 64+ random characters
# Generate with: openssl rand -base64 64
JWT_SECRET=CHANGE_ME_TO_RANDOM_64_CHAR_STRING

# Admin Credentials
# Use strong passwords (20+ characters)
ADMIN_USERNAME=admin
ADMIN_PASSWORD=CHANGE_ME_TO_STRONG_PASSWORD

# Session Secret
# Generate with: openssl rand -base64 32
SESSION_SECRET=CHANGE_ME_TO_RANDOM_32_CHAR_STRING

# ============================================
# Application Configuration
# ============================================
NODE_ENV=production
PORT=3000
HOSTNAME=0.0.0.0

# Application URL (for CORS and redirects)
NEXT_PUBLIC_APP_URL=https://yourdomain.com

# ============================================
# Rate Limiting
# ============================================
# Requests per minute per IP
RATE_LIMIT_REQUESTS=60
RATE_LIMIT_WINDOW_MS=60000

# Upload rate limit (uploads per hour)
UPLOAD_RATE_LIMIT=10

# ============================================
# File Upload Configuration
# ============================================
# Maximum file size in bytes (5MB)
MAX_FILE_SIZE=5242880

# Allowed file extensions (comma-separated)
ALLOWED_FILE_EXTENSIONS=.jpg,.jpeg,.png,.gif,.webp

# Upload directory (should be outside web root)
UPLOAD_DIR=/app/uploads

# ============================================
# Security Features
# ============================================
# Enable HTTPS redirect
FORCE_HTTPS=true

# Enable security headers
ENABLE_SECURITY_HEADERS=true

# Enable CORS (set allowed origins)
CORS_ALLOWED_ORIGINS=https://yourdomain.com,https://www.yourdomain.com

# Enable audit logging
ENABLE_AUDIT_LOG=true

# ============================================
# Monitoring & Alerts
# ============================================
# Enable monitoring
ENABLE_MONITORING=true

# Alert email for security issues
ALERT_EMAIL=admin@yourdomain.com

# ============================================
# External Services (if applicable)
# ============================================
# AWS S3 (for file storage)
# AWS_ACCESS_KEY_ID=your_access_key
# AWS_SECRET_ACCESS_KEY=your_secret_key
# AWS_REGION=us-east-1
# AWS_S3_BUCKET=your-bucket-name

# Cloudflare (for DDoS protection)
# CLOUDFLARE_API_KEY=your_api_key
# CLOUDFLARE_ZONE_ID=your_zone_id

# ============================================
# Development Only (DO NOT use in production)
# ============================================
# DEBUG=false
# DISABLE_AUTH=false
# SEED_DATABASE=false

# ============================================
# Security Recommendations
# ============================================
# 1. Generate strong random passwords:
#    openssl rand -base64 32
#
# 2. Use different credentials for each environment
#
# 3. Rotate secrets regularly (every 90 days)
#
# 4. Never expose this file publicly
#
# 5. Use a secret management service in production
#    (AWS Secrets Manager, HashiCorp Vault, etc.)
#
# 6. Set proper file permissions: chmod 600 .env
#
# 7. Add .env to .gitignore (already should be there)
#
# 8. Use environment-specific files:
#    .env.local (for local development)
#    .env.production (for production)
#
# 9. Consider using docker secrets for sensitive values
#
# 10. Enable audit logging for all secret access
